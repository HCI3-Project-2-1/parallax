[gd_scene load_steps=26 format=3 uid="uid://bnoibl5p347no"]

[ext_resource type="Texture2D" uid="uid://c4n3utb07tcu6" path="res://textures/coast_sand_rocks_02_diff_2k.png" id="1_7jxdi"]
[ext_resource type="Texture2D" uid="uid://ct7a8cwsr15ot" path="res://textures/coast_sand_rocks_02_nor_gl_2k.png" id="2_smh0q"]
[ext_resource type="Texture2D" uid="uid://3vv14eyn3yar" path="res://textures/coast_sand_rocks_02_rough_2k.png" id="3_f0nw1"]
[ext_resource type="Script" path="res://Scene3/scene3.gd" id="4_5cbp7"]
[ext_resource type="Script" path="res://Scene3/control_scene3.gd" id="5_002ir"]
[ext_resource type="Shader" path="res://webcam.gdshader" id="5_6na6q"]

[sub_resource type="Theme" id="Theme_1b4ew"]

[sub_resource type="CameraTexture" id="CameraTexture_54p8r"]
camera_feed_id = 1
which_feed = 1

[sub_resource type="CameraTexture" id="CameraTexture_uyadx"]
camera_feed_id = 1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_a14lt"]
shader = ExtResource("5_6na6q")
shader_parameter/camera_y = SubResource("CameraTexture_uyadx")
shader_parameter/camera_CbCr = SubResource("CameraTexture_54p8r")

[sub_resource type="CameraTexture" id="CameraTexture_jn2qs"]
camera_feed_id = 1
which_feed = 1

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_tr0f2"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rdqm6"]
albedo_texture = ExtResource("1_7jxdi")
metallic = 0.42
roughness = 0.58
roughness_texture = ExtResource("3_f0nw1")
roughness_texture_channel = 3
normal_enabled = true
normal_texture = ExtResource("2_smh0q")
uv1_scale = Vector3(30, 30, 300)
texture_filter = 5
grow_amount = -1.635

[sub_resource type="BoxMesh" id="BoxMesh_n15va"]
material = SubResource("StandardMaterial3D_rdqm6")
size = Vector3(300, 1, 300)

[sub_resource type="BoxShape3D" id="BoxShape3D_1emjd"]
size = Vector3(300, 2, 300)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_lpin0"]

[sub_resource type="Sky" id="Sky_xak2a"]
sky_material = SubResource("ProceduralSkyMaterial_lpin0")

[sub_resource type="Environment" id="Environment_lls08"]
background_mode = 2
sky = SubResource("Sky_xak2a")

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_d2e15"]

[sub_resource type="ORMMaterial3D" id="ORMMaterial3D_58j8l"]
albedo_color = Color(0.553918, 0.0779926, 1, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_l6v0g"]
material = SubResource("ORMMaterial3D_58j8l")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_p6vw5"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_h5kyl"]

[sub_resource type="SphereShape3D" id="SphereShape3D_bgkpc"]

[sub_resource type="ArrayMesh" id="ArrayMesh_0d4pr"]

[node name="Node3D" type="Node3D"]

[node name="UI" type="Control" parent="." node_paths=PackedStringArray("Main", "Secondary")]
layout_mode = 3
anchors_preset = 0
offset_right = 1152.0
offset_bottom = 648.0
script = ExtResource("5_002ir")
Main = NodePath("../Player/FP")
Secondary = NodePath("../Secondary")

[node name="GridContainer" type="GridContainer" parent="UI"]
layout_mode = 0
offset_left = 26.0
offset_top = 30.0
offset_right = 326.0
offset_bottom = 333.0
theme = SubResource("Theme_1b4ew")

[node name="Label" type="Label" parent="UI/GridContainer"]
layout_mode = 2
theme_type_variation = &"HeaderLarge"
text = "Menu"
horizontal_alignment = 1

[node name="Button" type="CheckButton" parent="UI/GridContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 15
text = "Toggle 3rd person view"

[node name="Button2" type="CheckButton" parent="UI/GridContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 15
text = "Toggle Webcam"

[node name="Button3" type="CheckButton" parent="UI/GridContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 22
text = "Toggle fixed/dynamic angle"

[node name="Webcam" type="TextureRect" parent="UI/GridContainer"]
visible = false
material = SubResource("ShaderMaterial_a14lt")
layout_mode = 2
texture = SubResource("CameraTexture_jn2qs")
expand_mode = 5
stretch_mode = 4
flip_h = true

[node name="Ground" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 0, 0)
physics_material_override = SubResource("PhysicsMaterial_tr0f2")
constant_linear_velocity = Vector3(0, 50, 0)
constant_angular_velocity = Vector3(0, 0.872665, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 0.707107, -0.707107, 0, 0.707107, 0.707107, 0, 0, 0)
mesh = SubResource("BoxMesh_n15va")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 0.707107, -0.707107, 0, 0.707107, 0.707107, 0, 0, 0)
shape = SubResource("BoxShape3D_1emjd")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_lls08")
camera_attributes = SubResource("CameraAttributesPractical_d2e15")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 41, 0)
light_energy = 2.048
light_indirect_energy = 1.828
shadow_enabled = true
shadow_opacity = 0.57
shadow_blur = 10.0

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 18.2079, 0)
disable_mode = 2
motion_mode = 1
platform_on_leave = 2

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player"]
mesh = SubResource("CapsuleMesh_l6v0g")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
shape = SubResource("CapsuleShape3D_p6vw5")

[node name="FP" type="Camera3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.335987, 0)
script = ExtResource("4_5cbp7")

[node name="Secondary" type="Camera3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -31, 11, 0)

[node name="RigidBody3D" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8, -14)
mass = 22.0
physics_material_override = SubResource("PhysicsMaterial_h5kyl")

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
shape = SubResource("SphereShape3D_bgkpc")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D"]
mesh = SubResource("ArrayMesh_0d4pr")
